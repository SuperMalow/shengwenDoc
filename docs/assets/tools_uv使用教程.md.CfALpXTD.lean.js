import{_ as i,c as s,a2 as e,o as t}from"./chunks/framework.CAQ3h1-a.js";const r=JSON.parse('{"title":"uv 使用教程","description":"","frontmatter":{},"headers":[],"relativePath":"tools/uv使用教程.md","filePath":"tools/uv使用教程.md","lastUpdated":null}'),l={name:"tools/uv使用教程.md"};function n(p,a,o,h,d,c){return t(),s("div",null,a[0]||(a[0]=[e(`<h1 id="uv-使用教程" tabindex="-1">uv 使用教程 <a class="header-anchor" href="#uv-使用教程" aria-label="Permalink to &quot;uv 使用教程&quot;">​</a></h1><p>首先 uv 是一个继 python 版本管理、包管理、项目管理、虚拟环境管理于一体的工具，且其底层是由 Rust 编写的，所以性能也是非常优秀。 相比于传统的 conda，uv 的优势在于：</p><ul><li>uv 的性能比 conda 更快</li><li>uv 的安装包体积更小</li><li>uv 更方便管理环境</li><li>uv 还支持临时安装包去运行项目</li></ul><h2 id="uv-安装" tabindex="-1">uv 安装 <a class="header-anchor" href="#uv-安装" aria-label="Permalink to &quot;uv 安装&quot;">​</a></h2><p>uv 的安装非常简单，下面的命令是通过 <code>pip</code> 来进行安装的：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> uv</span></span></code></pre></div><h2 id="使用-uv-创建项目" tabindex="-1">使用 uv 创建项目 <a class="header-anchor" href="#使用-uv-创建项目" aria-label="Permalink to &quot;使用 uv 创建项目&quot;">​</a></h2><p>在正常的 python 项目当中，通常包含 <code>.gitignore</code> , <code>readme.md</code>, <code>requirements.txt</code>, 以及项目源代码。</p><p>那么通过 uv 来创建项目，只需要在命令行中输入以下命令即可：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">uv</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> init</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> project_name</span></span></code></pre></div><p>uv 会自动创建一个项目目录，目录结构如下：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">project_name</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .git</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .gitignore</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .python-version</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> main.py</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pyproject.toml</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">└──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> README.md</span></span></code></pre></div><ul><li><code>.python-version</code>：项目的 python 版本，也是 uv 运行 python 指定的版本。</li><li><code>pyproject.toml</code>：项目的使用说明书，包含项目的名称、版本、描述、依赖包等信息。</li></ul><p>主要是这两个文件，这两个文件是 uv 管理项目虚拟环境的关键。</p><h2 id="使用-uv-管理环境" tabindex="-1">使用 uv 管理环境 <a class="header-anchor" href="#使用-uv-管理环境" aria-label="Permalink to &quot;使用 uv 管理环境&quot;">​</a></h2><h3 id="通过-uv-管理-python-版本" tabindex="-1">通过 uv 管理 python 版本 <a class="header-anchor" href="#通过-uv-管理-python-版本" aria-label="Permalink to &quot;通过 uv 管理 python 版本&quot;">​</a></h3><p>uv 跟 conda 一样，可以进行 python 版本的管理。</p><ul><li>安装特定的 python 版本：<code>uv python install 3.12 3.13</code> , 这行命令会安装 python 3.12 和 3.13 版本。</li><li>切换 python 版本：<code>uv python pin 3.12</code> , 这行命令会切换到 python 3.12 版本。</li><li>查看安装的 python 版本：<code>uv python list --only-installed</code> , 这行命令会列出所有安装的 python 版本。</li><li>卸载 python 版本：<code>uv python uninstall 3.12</code> , 这行命令会卸载 python 3.12 版本。</li></ul><h3 id="通过-uv-添加项目依赖" tabindex="-1">通过 uv 添加项目依赖 <a class="header-anchor" href="#通过-uv-添加项目依赖" aria-label="Permalink to &quot;通过 uv 添加项目依赖&quot;">​</a></h3><p>uv 除了可以管理 python 版本之外，还可以管理项目依赖。uv 还会自动将项目依赖信息写入到 <code>pyproject.toml</code> 文件中。</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">uv</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> package_name</span></span></code></pre></div><p>通过以上的命令，uv 会自动将项目依赖进行下载并将以来信息写入到 <code>pyproject.toml</code> 文件中。</p><h3 id="通过-uv-将项目的依赖进行安装" tabindex="-1">通过 uv 将项目的依赖进行安装 <a class="header-anchor" href="#通过-uv-将项目的依赖进行安装" aria-label="Permalink to &quot;通过 uv 将项目的依赖进行安装&quot;">​</a></h3><p>在 python 中对于项目的依赖，常常对前端同学很是羡慕，毕竟前端同学可以直接 <code>npm install</code> 就可以安装依赖。那么在 uv 当中，也有类似的命令：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">uv</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sync</span></span></code></pre></div><p>通过上述命令，uv 会自动将项目中 <code>pyproject.toml</code> 文件中的依赖进行安装。</p><h2 id="使用-uv-管理命令行工具" tabindex="-1">使用 uv 管理命令行工具 <a class="header-anchor" href="#使用-uv-管理命令行工具" aria-label="Permalink to &quot;使用 uv 管理命令行工具&quot;">​</a></h2><p>python 中拥有一些命令行工具，类似 pytest 用来进行单元测试，ruff 用来检查格式等工具。那么这种在命令行中运行的工具，uv 提供了统一的管理。</p><p>uv 通过 <code>uv tool install package_name</code> 来安装命令行工具。这样就可以直接进行使用对应的命令行工具，而无需在任何环境当中。</p><p>同样的，可以通过 <code>uv tool uninstall package_name</code> 来卸载命令行工具。</p><h3 id="通过-uv-临时的虚拟环境来运行工具" tabindex="-1">通过 uv 临时的虚拟环境来运行工具 <a class="header-anchor" href="#通过-uv-临时的虚拟环境来运行工具" aria-label="Permalink to &quot;通过 uv 临时的虚拟环境来运行工具&quot;">​</a></h3><p>在 uv 当中，可以通过 <code>uvx package_name</code> 来运行对应的命令行工具。这种方式，uv 会自动创建一个临时的虚拟环境，然后安装对应的工具，最后运行对应的工具。但是该工具并不会安装到本地当中。</p><h3 id="通过-uv-临时虚拟环境运行-python-文件" tabindex="-1">通过 uv 临时虚拟环境运行 python 文件 <a class="header-anchor" href="#通过-uv-临时虚拟环境运行-python-文件" aria-label="Permalink to &quot;通过 uv 临时虚拟环境运行 python 文件&quot;">​</a></h3><p>假设一个 python 文件 <code>main.py</code> 中需要依赖其他第三方包，但是在本地当中并没有该包，那么正常来说通过 <code>python main.py</code> 运行项目会报错无法正常运行。</p><p>但是 uv 中提供了一个非常方便的操作：</p><ol><li>首先通过 <code>uv init --script main.py</code> 来针对 <code>main.py</code> 进行 uv 的初始化，此时 uv 会将一些依赖信息写入该文件的最开头。</li><li>在 uv 生成的信息当中填写对应需要的依赖信息。</li><li>通过 <code>uv run main.py</code> 即可成功运行 <code>main.py</code> 文件。</li></ol>`,36)]))}const v=i(l,[["render",n]]);export{r as __pageData,v as default};
